@page "/employes"

@attribute [Authorize]

<PageTitle>Employes</PageTitle>
<RadzenStack>
    <RadzenRow AlignItems="AlignItems.Center">
        <RadzenColumn Size="12" SizeMD="6">
            <div style="
                display: inline-block;
                background-color: rgba(30, 58, 138, 0.6);
                padding: 0.5rem 1rem;
                border-radius: 0.5rem;">
                <RadzenText Text="Employes : "
                             TextStyle="TextStyle.H2"
                             Style="font-weight:bold; color: white; margin: 0;" />
            </div>
        </RadzenColumn>
        <RadzenColumn Size="12" SizeMD="6">
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
                <RadzenSplitButton Icon="get_app"
                                   Text="Export"
                                   Click="@ExportClick"
                                   Variant="Variant.Filled"
                                   ButtonStyle="ButtonStyle.Primary"
                                   Shade="Shade.Dark">
                    <RadzenSplitButtonItem Text="Excel" Value="xlsx" />
                    <RadzenSplitButtonItem Text="CSV" Value="csv" />
                </RadzenSplitButton>
                <RadzenButton Icon="add_circle_outline" Text="Add" Click="@AddButtonClick" Variant="Variant.Flat" />
            </RadzenStack>
        </RadzenColumn>
    </RadzenRow>
    <RadzenTextBox Placeholder="Search ..." style="display: block; width: 100%" @oninput="@Search" aria-label="Search by all string columns" />
    <RadzenRow>
      <RadzenColumn SizeMD=12>
        <RadzenDataGrid @ref="grid0" ColumnWidth="200px"   AllowFiltering="true" FilterMode="FilterMode.Advanced" AllowPaging="true" AllowSorting="true" ShowPagingSummary="true" PageSizeOptions=@(new int[]{5, 10, 20, 30})
            Data="@(employes)" TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" RowDoubleClick="@EditRow">
            <Columns>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Employe_id" Title="Employeid">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Employe_Prenom" Title="Employe Prenom">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Employe_nom" Title="Employenom">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="EmployeSalery" Title="Employe Salery">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Sexe" Title="Sexe">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Email" Title="Email">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Telephone" Title="Telephone">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="DateEmbauche" Title="Date Embauche">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Manager.Employe_Prenom" Title="Manager">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Post.Post_name" Title="Post">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Departement.Departement_Name" Title="Departement">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Property="Date_naissance" Title="Datenaissance">
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="DESKTOPJN6V6MTSQLEXPRESS.Models.FinalDB.Employe" Filterable="false" Sortable="false" Width="70px" TextAlign="TextAlign.Center">
                    <Template Context="employe">

                        <RadzenButton ButtonStyle="ButtonStyle.Danger" Icon="delete" Size="ButtonSize.Medium"
                            Shade="Shade.Lighter" Variant="Variant.Flat"
                            Click=@(args => GridDeleteButtonClick(args, employe)) @onclick:stopPropagation="true" />
                    </Template>
                </RadzenDataGridColumn>
            </Columns>

        </RadzenDataGrid>

    </RadzenColumn>
  </RadzenRow>
</RadzenStack>
